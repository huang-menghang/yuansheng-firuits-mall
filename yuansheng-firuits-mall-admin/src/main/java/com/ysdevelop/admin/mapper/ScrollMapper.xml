<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ysdevelop.admin.mapper.ScrollDao">
   <select id="list" resultType="com.ysdevelop.admin.entity.ScrollImage">
        select id,name,imageHref,imageUrl,sort,status,description,createTime
        from t_ys_firuits_scroll_image   
   </select> 
   
   <select id="countByQueryMap" parameterType="java.util.Map" resultType="java.lang.Integer" >
   
           select count(id)
           from t_ys_firuits_scroll_image
           where 1=1
            <if test="queryMap.id !=null and queryMap.id !='null' and queryMap.id !=''">
        	and 
             id=#{queryMap.id}
           </if>
           <if test="queryMap.name !=null and queryMap.name !='null' and queryMap.name !=''">
        and 
             name=#{queryMap.name}
           </if>
           <if test="queryMap.startTime !=null and queryMap.startTime !='null' and queryMap.startTime !=''">
        and 
            <![CDATA[ createTime >= #{queryMap.startTime} ]]>
             <!-- createTime > #{queryMap.startTime} -->
          </if>
          <if test="queryMap.endTime !=null and queryMap.endTime !='null' and queryMap.endTime !='' ">
        and 
             <![CDATA[  createTime <= #{queryMap.endTime} ]]>
             <!-- createTime < #{queryMap.endTime} -->
          </if>

   </select>
   
   
   <select id="queryByMapQuery" resultType="com.ysdevelop.admin.entity.ScrollImage">
        select 
        id,name,imageHref,imageUrl,sort,status,description,createTime
        from t_ys_firuits_scroll_image 
        where 1=1
        
        <if test="queryMap.id !=null and queryMap.id !='null' and queryMap.id !=''">
        and 
             id=#{queryMap.id}
        </if>
        <if test="queryMap.name !=null and queryMap.name !='null' and queryMap.name !=''">
        and 
             name=#{queryMap.name}
        </if>
        <if test="queryMap.startTime !=null and queryMap.startTime !='null' and queryMap.startTime !=''">
        and 
            <![CDATA[ createTime >= #{queryMap.startTime} ]]>
             <!-- createTime > #{queryMap.startTime} -->
        </if>
        <if test="queryMap.endTime !=null and queryMap.endTime !='null' and queryMap.endTime !='' ">
        and 
             <![CDATA[  createTime <= #{queryMap.endTime} ]]>
             <!-- createTime < #{queryMap.endTime} -->
        </if>
        order by id asc 
        limit #{pagination.start},#{pagination.pageSize}
        
   </select>
   <update id="deleteById">
      
      update t_ys_firuits_scroll_image
      set status = case 
      when status=0 then 1
      when status=1 then 0
      else status end
      where
		`id` =
		#{id}
 
   </update>
   <delete id="deleteBatchByIds">
       delete from t_ys_firuits_scroll_image
       where id in 
        <foreach collection="list" item="id" separator="," open="(" close=")" index="">
			#{id}
		</foreach>   
   </delete>
   <select id="getScrollById" resultType="com.ysdevelop.admin.entity.ScrollImage">
      select 
        `id`,
		`name`,
		`imageHref`,
		`imageUrl`,
		`sort`,
		`status`,
		`description`,
		`createTime`
	   from `t_ys_firuits_scroll_image`     
	   where id = #{id}
   </select>
   
   <update id="editScrollByMap" parameterType="java.util.Map">
        update `t_ys_firuits_scroll_image`
       <set>
        <if test="editMap.name != null and editMap.name != 'null' and editMap.name !='' ">
	          
	            name = #{editMap.name}, 
	                   
        </if>
        <if test="editMap.imageHref !=null and editMap.imageHref != 'null' and editMap.imageHref !='' " >        
	         
	            imageHref = #{editMap.imageHref},  
	                  
        </if>
        <if test="editMap.imageUrl !=null and editMap.imageUrl != 'null' and editMap.imageUrl !='' ">
	       
	            imageUrl = #{editMap.imageUrl},  
	              
        </if>
        <if test="editMap.sort !=null and editMap.sort != 'null' and editMap.sort !='' " >
	        
	            sort = #{editMap.sort},
	                  
        </if>
        <if test="editMap.status !=null and editMap.status != 'null' and editMap.status !='' " >
	       
	            status = #{editMap.status}, 
	                 
        </if>
        <if test="editMap.description !=null and editMap.description != 'null' and editMap.description != 'null' and editMap.description != ''" >
	        
	            description = #{editMap.description},
	                    
        </if>
        <if test="editMap.createTime !=null and editMap.createTime != 'null' and editMap.createTime != '' " >
	        
	            createTime= #{editMap.createTime} 	         	         
        </if>
        </set> 
        where id = #{editMap.id}      
   </update>
   
   <insert id="save" parameterType="com.ysdevelop.admin.entity.ScrollImage">
        insert into `t_ys_firuits_scroll_image`
	        (`name`,`imageHref`,`imageUrl`,`sort`,`status`,`description`,`createTime`)
		value(#{name},#{imageHref},#{imageUrl},#{sort},#{status},#{description},now())		
   </insert>

</mapper>